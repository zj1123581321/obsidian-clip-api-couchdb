name: obsidian-clip-api-couchdb
version: v1.0.0
description: 网页剪藏 API 服务

# 服务配置
host: 0.0.0.0
port: 8901

# API 鉴权配置
api:
  enabled: true  # 是否启用 API 鉴权
  key: "your-secret-api-key-here"  # API 密钥

# 存储方式配置
storage:
  method: "rest_api"  # 可选值: "couchdb", "rest_api"，默认 "rest_api"

# Obsidian Local REST API 配置
obsidian_api:
  url: "http://127.0.0.1:27123"  # Obsidian Local REST API 地址
  api_key: "your-obsidian-rest-api-key"  # Obsidian REST API 密钥
  timeout: 30  # 请求超时时间（秒）
  retry_count: 3  # 重试次数
  retry_delay: 1  # 重试间隔（秒）

# CouchDB 配置（向后兼容，建议迁移到 REST API）
couchdb:
  url: "http://username:password@your-couchdb-host:5984/"  # 包含用户名和密码的 URL
  db_name: "your-db-name"  # 数据库名称

# 企业微信配置
work_wechat:
  corp_id: "your-corp-id"
  agent_id: "your-agent-id"
  corp_secret: "your-corp-secret"
  token: ""  # 可选，如果需要接收消息
  encoding_aes_key: ""  # 可选，如果需要接收消息
  user_id: ""  # 可选，指定接收消息的用户
  at_all: true  # 是否 @所有人

# PicGo 配置
picgo:
  enabled: false  # 是否启用图片上传到自己的图床
  server: "http://your-picgo-server:36677"
  upload_path: "/upload?key=your-upload-key"

# 外部 LLM 处理配置
llm:
  enabled: true  # 是否启用 LLM 处理，默认开启
  url: "http://127.0.0.1:8080/api/v1/process"  # LLM API 完整地址
  api_key: "your-llm-api-key"  # X-API-Key 鉴权
  timeout: 180  # 超时时间（秒），默认 180
  retry_count: 2  # 重试次数
  retry_delay: 2  # 重试延迟（秒）
  language: "auto"  # 语言参数

# Obsidian 文件配置
obsidian:
  clippings_path: "Clippings"  # 剪藏文章在 Obsidian 中的保存路径
  date_folder: true  # 是否按日期创建子文件夹: Clippings/2024/03/

# 调试模式
debug: false  # 生产环境建议关闭 